function searchToObject(){var e,n,o=window.location.search.substring(1).split("&"),t={};for(n in o)if(o.hasOwnProperty(n)){if(""===o[n])continue;e=o[n].split("="),t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}var eventsSender=function(){var e={url:location.protocol+"//"+location.host+"/event/",on_focus:!0,events:{scrolled_on_site:0,clicked_on_site:0,time_on_site:0,load_begins:1,dom_loaded:0,fully_loaded:0},params:searchToObject(),get_params:function(){var n,o={};for(n in e.params)e.params.hasOwnProperty(n)&&(o[n]=e.params[n]);for(n in e.events)o[n]=e.events[n];return o},sendEvents:function(e,n,o){var t=new XMLHttpRequest;t.open("POST",e,o),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.send(n)}},n=function(){e.events.scrolled_on_site=1,window.removeEventListener("scroll",n)};window.addEventListener("scroll",n);var o=function(){e.events.clicked_on_site=1,window.removeEventListener("click",o)};window.addEventListener("blur",function(){e.on_focus=!1}),window.addEventListener("focus",function(){e.on_focus=!0}),window.addEventListener("click",o),setInterval(function(){e.on_focus&&e.events.time_on_site++},1e3),document.addEventListener("DOMContentLoaded",function(){e.events.dom_loaded=1}),window.addEventListener("load",function(){e.events.fully_loaded=1}),navigator.sendBeacon=navigator.sendBeacon||e.sendEvents,window.onbeforeunload=function(){var n=JSON.stringify(e.get_params());navigator.sendBeacon(e.url,n,!1);for(var o=0;o<=1e4;o++);}}();
